<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="stylesheet" type="text/css" href="./design/styles.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  
  <title>Frontend Mentor | Newsletter sign-up form with success message</title>
</head>
<body>

  <!-- Sign-up form start -->

    <div class="container">
        <div id="new" class="white-container">

            <div class="image-container">
                <img src="./assets/images/illustration-sign-up-mobile.svg" alt="Imagen de entrada">
            </div>

            <div id="section-1">
                
                <h1>Stay updated!</h1>

                <p>Join 60,000+ product managers receiving <br>monthly updates on:</p>

                <ul>
                    <li>Product discovery and building what matters</li>
                    <li>Measuring to ensure updates are a success</li>
                    <li>And much more!</li>
                </ul>

                <div class="last">
                    <label for="email">Email address:<br></label>
                    <input type="email" id="email" name="email" placeholder="Enter your email address" required>
                </div>

                <button id="change" class="degrade">Subscribe to monthly newsletter</button>

            </div>
        </div>

        <!-- Sign-up form end -->

        <!-- Success message start -->

        <div id="section-2">

            <div class="image-container-2">
                <img src="./assets/images/icon-success.svg" alt="Imagen de entrada">
            </div>

            <div class="text-container">
                <h1 class="thanks">Thanks for subscribing!</h1>
            
                <p>Confirmation email has been sent to <span>ash@loremcompany.com.</span>
                   Please open it and click the button inside to confirm your subscription.</p>
            
                <button id="dismiss" class="degrade">Dismiss message</button>
          </div>

        <!-- Success message end -->

    </div>
  
  <script>
    document.getElementById('section-2').style.display = 'none';
    document.getElementById('change').addEventListener('click', function() {
      document.getElementById('new').style.display = 'none';
      document.getElementById('section-2').style.display = 'block';
    });

    window.addEventListener('DOMContentLoaded', function() {
      if (window.innerWidth > 1024 || window.innerHeight > 1024) {
        let imageContainer = document.querySelector('.image-container'); 
        imageContainer.querySelector('img').src = './assets/images/illustration-sign-up-desktop.svg';
      }
      else {
        let imageContainer = document.querySelector('.image-container'); 
        imageContainer.querySelector('img').src = './assets/images/illustration-sign-up-mobile.svg';
      }
    });

    window.addEventListener('resize', function() {
      if (window.innerWidth > 1024 || window.innerHeight > 1024) {
        let imageContainer = document.querySelector('.image-container'); 
        imageContainer.querySelector('img').src = './assets/images/illustration-sign-up-desktop.svg';
      }
      else {
        let imageContainer = document.querySelector('.image-container'); 
        imageContainer.querySelector('img').src = './assets/images/illustration-sign-up-mobile.svg';
      }
    });

    document.getElementById('email').addEventListener('input', function() {
    let emailInput = this.value.trim();
    let isValidGmail = isValidEmail(emailInput) && isGmail(emailInput);
    if (!isValidGmail) {
        this.classList.add('wrong');
    } else {
        this.classList.remove('wrong');
    }
    });

    function isValidEmail(email) {
        let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }

    function isGmail(email) {
        return email.endsWith('@gmail.com');
    }
    
  </script>
</body>
</html>